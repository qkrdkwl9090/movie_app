import{S as q,c as T,d as j,i as w,e as L,t as N,f as V,g as H,r as U,h as z,j as W,k as G,l as Z,m as J,u as D,o as X,p as Y,D as v,O as ee,b as te}from"./entry.281293a6.js";import{g as se,i as re,j as x,r as ne,a as ie,w as F,f as ue,a6 as ae,u as Q,o as oe,E as B,F as ce,D as le,G as he,K as k,M as de,a7 as fe,N as pe}from"./swiper-vue.4f17a82e.js";class ve extends q{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),A(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return I(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return I(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),T(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const n=this.hasListeners();n&&P(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(t),n&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const u=this.computeRefetchInterval();n&&(this.currentQuery!==i||this.options.enabled!==r.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(j)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),w||this.currentResult.isStale||!L(this.options.staleTime))return;const t=N(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(w||this.options.enabled===!1||!L(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||V.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,i=this.options,n=this.currentResult,u=this.currentResultState,a=this.currentResultOptions,c=e!==r,o=c?e.state:this.currentQueryInitialState,h=c?this.currentResult:this.previousQueryResult,{state:l}=e;let{dataUpdatedAt:f,error:b,errorUpdatedAt:R,fetchStatus:y,status:m}=l,O=!1,$=!1,p;if(t._optimisticResults){const d=this.hasListeners(),E=!d&&A(e,t),K=d&&P(e,r,t,i);(E||K)&&(y=H(e.options.networkMode)?"fetching":"paused",f||(m="loading")),t._optimisticResults==="isRestoring"&&(y="idle")}if(t.keepPreviousData&&!l.dataUpdatedAt&&h!=null&&h.isSuccess&&m!=="error")p=h.data,f=h.dataUpdatedAt,m=h.status,O=!0;else if(t.select&&typeof l.data<"u")if(n&&l.data===(u==null?void 0:u.data)&&t.select===this.selectFn)p=this.selectResult;else try{this.selectFn=t.select,p=t.select(l.data),p=U(n==null?void 0:n.data,p,t),this.selectResult=p,this.selectError=null}catch(d){this.selectError=d}else p=l.data;if(typeof t.placeholderData<"u"&&typeof p>"u"&&m==="loading"){let d;if(n!=null&&n.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))d=n.data;else if(d=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof d<"u")try{d=t.select(d),this.selectError=null}catch(E){this.selectError=E}typeof d<"u"&&(m="success",p=U(n==null?void 0:n.data,d,t),$=!0)}this.selectError&&(b=this.selectError,p=this.selectResult,R=Date.now(),m="error");const g=y==="fetching",_=m==="loading",C=m==="error";return{status:m,fetchStatus:y,isLoading:_,isSuccess:m==="success",isError:C,isInitialLoading:_&&g,data:p,dataUpdatedAt:f,error:b,errorUpdatedAt:R,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>o.dataUpdateCount||l.errorUpdateCount>o.errorUpdateCount,isFetching:g,isRefetching:g&&!_,isLoadingError:C&&l.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:$,isPreviousData:O,isRefetchError:C&&l.dataUpdatedAt!==0,isStale:S(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,T(r,t))return;this.currentResult=r;const i={cache:!0},n=()=>{if(!t)return!0;const{notifyOnChangeProps:u}=this.options;if(u==="all"||!u&&!this.trackedProps.size)return!0;const a=new Set(u??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(c=>{const o=c;return this.currentResult[o]!==t[o]&&a.has(o)})};(e==null?void 0:e.listeners)!==!1&&n()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!z(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){W.batch(()=>{if(e.onSuccess){var t,r,i,n;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(i=(n=this.options).onSettled)==null||i.call(n,this.currentResult.data,null)}else if(e.onError){var u,a,c,o;(u=(a=this.options).onError)==null||u.call(a,this.currentResult.error),(c=(o=this.options).onSettled)==null||c.call(o,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function me(s,e){return e.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&e.retryOnMount===!1)}function A(s,e){return me(s,e)||s.state.dataUpdatedAt>0&&I(s,e,e.refetchOnMount)}function I(s,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(s):t;return r==="always"||r!==!1&&S(s,e)}return!1}function P(s,e,t,r){return t.enabled!==!1&&(s!==e||r.enabled===!1)&&(!t.suspense||s.state.status!=="error")&&S(s,t)}function S(s,e){return s.isStaleByTime(e.staleTime)}function be(s=""){var e;if(!((e=se())==null?void 0:e.proxy))throw new Error("vue-query hooks can only be used inside setup() function.");const r=G(s),i=re(r);if(!i)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return i}function ye(s,e,t={},r={}){var i;const n=x(()=>Re(e,t,r)),u=(i=n.value.queryClient)!=null?i:be(n.value.queryClientKey),a=x(()=>{const f=u.defaultQueryOptions(n.value);return f._optimisticResults=u.isRestoring.value?"isRestoring":"optimistic",f}),c=new s(u,a.value),o=ne(c.getCurrentResult()),h=ie(()=>{});F(u.isRestoring,f=>{f||(h.value(),h.value=c.subscribe(b=>{D(o,b)}))},{immediate:!0}),F(a,()=>{c.setOptions(a.value),D(o,c.getCurrentResult())},{deep:!0}),oe(()=>{h.value()});const l=()=>new Promise(f=>{let b=()=>{};const R=()=>{if(a.value.enabled!==!1){const y=c.getOptimisticResult(a.value);y.isStale?(b(),f(c.fetchOptimistic(a.value))):(b(),f(y))}};R(),b=F(a,R,{deep:!0})});return{...ue(ae(o)),suspense:l}}function Re(s,e={},t={}){const r=Q(s),i=Q(e),n=Q(t);let u=r;return Z(r)?typeof i=="function"?u={...n,queryKey:r,queryFn:i}:u={...i,queryKey:r}:u=r,J(u)}function De(s,e,t){const r=ye(ve,s,e,t);return{...r,refetch:r.refetch.value,remove:r.remove.value}}const xe=X("movieDetail",{state:()=>({_visible:!1,_id:null}),getters:{visible:s=>s._visible,id:s=>s._id},actions:{show(s){this._id=s,this._visible=!0},change(s){this._id=s},close(){this._id=null,this._visible=!1}}});async function ke(s){const{public:{baseUrl:e}}=Y();return await $fetch(`${e}${s}`,{method:"GET"}).then(t=>t).catch(t=>console.error(t))}function ge(s,e){const{onFocusIn:t,onFocusOut:r}=e.value||{};s.$_pfocustrap_mutationobserver=new MutationObserver(i=>{i.forEach(n=>{if(n.type==="childList"&&!s.contains(document.activeElement)){const u=a=>{const c=v.isFocusableElement(a)?a:v.getFirstFocusableElement(a);return ee.isNotEmpty(c)?c:u(a.nextSibling)};v.focus(u(n.nextSibling))}})}),s.$_pfocustrap_mutationobserver.disconnect(),s.$_pfocustrap_mutationobserver.observe(s,{childList:!0}),s.$_pfocustrap_focusinlistener=i=>t&&t(i),s.$_pfocustrap_focusoutlistener=i=>r&&r(i),s.addEventListener("focusin",s.$_pfocustrap_focusinlistener),s.addEventListener("focusout",s.$_pfocustrap_focusoutlistener)}function M(s){s.$_pfocustrap_mutationobserver&&s.$_pfocustrap_mutationobserver.disconnect(),s.$_pfocustrap_focusinlistener&&s.removeEventListener("focusin",s.$_pfocustrap_focusinlistener)&&(s.$_pfocustrap_focusinlistener=null),s.$_pfocustrap_focusoutlistener&&s.removeEventListener("focusout",s.$_pfocustrap_focusoutlistener)&&(s.$_pfocustrap_focusoutlistener=null)}function _e(s,e){const{autoFocusSelector:t="",firstFocusableSelector:r="",autoFocus:i=!1}=e.value||{};let n=v.getFirstFocusableElement(s,`[autofocus]:not(.p-hidden-focusable)${t}`);i&&!n&&(n=v.getFirstFocusableElement(s,`:not(.p-hidden-focusable)${r}`)),v.focus(n)}function Ce(s){const{currentTarget:e,relatedTarget:t}=s,r=t===e.$_pfocustrap_lasthiddenfocusableelement?v.getFirstFocusableElement(e.parentElement,`:not(.p-hidden-focusable)${e.$_pfocustrap_focusableselector}`):e.$_pfocustrap_lasthiddenfocusableelement;v.focus(r)}function Ee(s){const{currentTarget:e,relatedTarget:t}=s,r=t===e.$_pfocustrap_firsthiddenfocusableelement?v.getLastFocusableElement(e.parentElement,`:not(.p-hidden-focusable)${e.$_pfocustrap_focusableselector}`):e.$_pfocustrap_firsthiddenfocusableelement;v.focus(r)}function Fe(s,e){const{tabIndex:t=0,firstFocusableSelector:r="",lastFocusableSelector:i=""}=e.value||{},n=c=>{const o=document.createElement("span");return o.classList="p-hidden-accessible p-hidden-focusable",o.tabIndex=t,o.setAttribute("aria-hidden","true"),o.setAttribute("role","presentation"),o.addEventListener("focus",c),o},u=n(Ce),a=n(Ee);u.$_pfocustrap_lasthiddenfocusableelement=a,u.$_pfocustrap_focusableselector=r,a.$_pfocustrap_firsthiddenfocusableelement=u,a.$_pfocustrap_focusableselector=i,s.prepend(u),s.append(a)}const Ae={mounted(s,e){const{disabled:t}=e.value||{};t||(Fe(s,e),ge(s,e),_e(s,e))},updated(s,e){const{disabled:t}=e.value||{};t&&M(s)},unmounted(s){M(s)}};var Qe={name:"TimesIcon",extends:te};const Ie=he("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),Se=[Ie];function Oe(s,e,t,r,i,n){return B(),ce("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.pti()),Se,16)}Qe.render=Oe;var $e={name:"Portal",props:{appendTo:{type:String,default:"body"},disabled:{type:Boolean,default:!1}},data(){return{mounted:!1}},mounted(){this.mounted=v.isClient()},computed:{inline(){return this.disabled||this.appendTo==="self"}}};function Te(s,e,t,r,i,n){return n.inline?k(s.$slots,"default",{key:0}):i.mounted?(B(),de(fe,{key:1,to:t.appendTo},[k(s.$slots,"default")],8,["to"])):pe("",!0)}$e.render=Te;export{Ae as F,De as a,ke as b,Qe as c,$e as s,xe as u};
